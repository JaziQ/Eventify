<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="~{fragments/header :: header(title='Edit Booking')}"></head>
<body class="d-flex flex-column min-vh-100">

<div th:replace="~{fragments/navbar :: navbar}"></div>

<main class="flex-fill container mt-5">
    <h1 class="mb-4 text-center">Edit Booking</h1>

    <form th:action="@{/admin/bookings/{id}/edit(id=${booking.id})}"
          th:object="${booking}" method="post" class="card p-4 shadow">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

        <div class="mb-3">
            <strong>User: </strong>
            <span th:text="${booking.user.username}"/>
        </div>

        <div class="mb-3">
            <strong>Event: </strong>
            <span th:text="${booking.event.name}"/>
        </div>

        <div class="mb-4">
            <strong> Booking ID: </strong>
            <span th:text="${id}"/>
        </div>

        <div class="mb-3">
            <label for="bookingDate" class="form-label">Booking Date</label>
            <input type="datetime-local" class="form-control" id="bookingDate" name="bookingDate"
                   th:value="${#temporals.format(booking.bookingDate, 'yyyy-MM-dd''T''HH:mm')}" />
        </div>

        <div class="mb-3">
            <label class="form-label">Status</label>
            <select th:field="*{bookingStatus}" class="form-select">
                <option th:each="status : ${T(eventify.model.Booking.BookingStatus).values()}"
                        th:value="${status}" th:text="${status}"></option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary w-100">Save Changes</button>
    </form>
</main>

<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>
